-- Combat machines script
local Players = game:GetService("Players")
local Player = Players.LocalPlayer

--- Inventory Values
local Inv = Player.Inventory
local PowerCores = Player.PowerCores
local MaxPowerCores = Player.MaxPowerCores
local money = 0

local DisableKnockback = false


-- Remote 

-- This code was generated by Cobalt
-- https://github.com/notpoiu/cobalt

local WalletEvent = game:GetService("ReplicatedStorage").ServerEvents.IncreaseWallet


local Luna = loadstring(game:HttpGet("https://raw.githubusercontent.com/Nebula-Softworks/Luna-Interface-Suite/refs/heads/master/source.lua", true))()

local Window = Luna:CreateWindow({
	Name = "Combat Machines 0.0.1", -- This Is Title Of Your Window
	Subtitle = nil, -- A Gray Subtitle next To the main title.
	LogoID = "82795327169782", -- The Asset ID of your logo. Set to nil if you do not have a logo for Luna to use.
	LoadingEnabled = true, -- Whether to enable the loading animation. Set to false if you do not want the loading screen or have your own custom one.
	LoadingTitle = "Luna Interface Suite", -- Header for loading screen
	LoadingSubtitle = "by testerdevv", -- Subtitle for loading screen

	ConfigSettings = {
		RootFolder = nil, -- The Root Folder Is Only If You Have A Hub With Multiple Game Scripts and u may remove it. DO NOT ADD A SLASH
		ConfigFolder = "Combat Machines" -- The Name Of The Folder Where Luna Will Store Configs For This Script. DO NOT ADD A SLASH
	},

	KeySystem = false, -- As Of Beta 6, Luna Has officially Implemented A Key System!
	KeySettings = {
		Title = "Luna Example Key",
		Subtitle = "Key System",
		Note = "Best Key System Ever! Also, Please Use A HWID Keysystem like Pelican, Luarmor etc. that provide key strings based on your HWID since putting a simple string is very easy to bypass",
		SaveInRoot = false, -- Enabling will save the key in your RootFolder (YOU MUST HAVE ONE BEFORE ENABLING THIS OPTION)
		SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
		Key = {"Example Key"}, -- List of keys that will be accepted by the system, please use a system like Pelican or Luarmor that provide key strings based on your HWID since putting a simple string is very easy to bypass
		SecondAction = {
			Enabled = true, -- Set to false if you do not want a second action,
			Type = "Link", -- Link / Discord.
			Parameter = "" -- If Type is Discord, then put your invite link (DO NOT PUT DISCORD.GG/). Else, put the full link of your key system here.
		}
	}
})


Window:CreateHomeTab({
	SupportedExecutors = {"Potassium"}, -- A Table Of Executors Your Script Supports. Add strings of the executor names for each executor.
	DiscordInvite = "NoInviteYet", -- The Discord Invite Link. Do Not Include discord.gg/ | Only Include the code.
	Icon = 1, -- By Default, The Icon Is The Home Icon. If You would like to change it to dashboard, replace the interger with 2
})


local InventoryTab = Window:CreateTab({
	Name = "Inventory",
	Icon = "backpack",
	ImageSource = "Material",
	ShowTitle = true -- This will determine whether the big header text in the tab will show
})

local Slider = InventoryTab:CreateSlider({
	Name = "All Items",
	Range = {0, 20000}, 
	Increment = 20, 
	CurrentValue = 100, 
    	Callback = function(Value)
            for i,v in Inv:GetChildren() do
                v.Value = Value
            end
            for i,v in Player.PlayerGui.BuildingGui.Items:GetChildren() do
                if v:IsA("ImageButton") then
                    v.Visible = true
                    v.Amount.Text = Value
                end
            end
    	end
}, "Slider") 


local Slider = InventoryTab:CreateSlider({
	Name = "Power Cores",
	Range = {0, 1000}, 
	Increment = 1, 
	CurrentValue = MaxPowerCores.Value, 
    	Callback = function(Value)
            MaxPowerCores.Value = Value
        end
}, "Slider") 


local MoneySlider = InventoryTab:CreateSlider({
	Name = "Set Money",
	Range = {0, 1000000}, 
	Increment = 100, 
	CurrentValue = 0, 
    	Callback = function(Value)
            money = Value
            
        end
}, "Slider") 

local SetMoneyButton = InventoryTab:CreateButton({
	Name = "Add Money",
	Description = nil, -- Creates A Description For Users to know what the button does (looks bad if you use it all the time),
    	Callback = function()
            WalletEvent:InvokeServer(
                money
            )
            
            
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = workspace.Flag.Flag.CFrame
            wait(.3)
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = workspace[game.Players.LocalPlayer.Name.."'s Garage"].SafeBox.CFrame
    	end
})

local CombatTab = Window:CreateTab({
	Name = "Combat",
	Icon = "build",
	ImageSource = "Material",
	ShowTitle = true -- This will determine whether the big header text in the tab will show
})





local Toggle = CombatTab:CreateToggle({
	Name = "Disable Knockback",
	Description = "Disables knockback when shooting",
	CurrentValue = false,
    	Callback = function(Value)
                DisableKnockback = Value

                if Value == true then

                    for i,v in game.workspace:GetDescendants() do
                        if v:IsA("VectorForce") then 

                            v:Destroy()

                        end
                    end
                end
    	end
}, "Toggle") -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps

game.workspace.DescendantAdded:Connect(function(v)
    if v:IsA("VectorForce") and DisableKnockback == true then
        v:Destroy()
    end
end)
